@model IEnumerable<ITISystem.Models.Instructor>

@{
    //ViewBag.Title = "getAll";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div>

    <br />
    <br />

    <br />
    <h2 class="col-lg-offset-4">All Instructor</h2>
    <br />

    <br />

    <table class="table table-bordered table-hover col-lg-4">
        <tr>

            <th>
                @Html.DisplayNameFor(model => model.Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.BirthDate)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Degree)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Graduation_Year)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Work_Status)
            </th>
            <th>
               @Html.DisplayNameFor(model=>model.Department_Key)
            </th>
            

        </tr>
        @foreach (var item in Model)
        {

            <tr>
                <td>@Html.DisplayFor(modelItem => item.Name)</td>
                <td>@Html.DisplayFor(modelItem => item.BirthDate)</td>
                <td>@Html.DisplayFor(modelItem => item.Degree)</td>
                <td>@Html.DisplayFor(modelItem => item.Graduation_Year)</td>
                <td>@Html.DisplayFor(modelItem => item.Work_Status)</td>
                @if (item.Department_Key != null)
                {
                    <td>@item.Department.Name</td>
                }
                else
                {
                    <td>No Department</td>
                }
                

               <td>
                    @Ajax.ActionLink("Edit", "Edit", "Instructor1", new { id = item.Instructor_Id }, new AjaxOptions()
               {
                   InsertionMode = InsertionMode.Replace,
                   HttpMethod = "Get",
                   OnSuccess = "myfun2()"
               })
                </td>

                <td>
                    @Ajax.ActionLink("Remove", "Remove", "Instructor1", new { id = item.Instructor_Id }, new AjaxOptions()
               {
                   InsertionMode = InsertionMode.Replace,
                   HttpMethod = "Get",
                   OnSuccess = "myfun3()"
               })
                </td>

            </tr>
        }


    </table>
    <br />
    <br />
    <br />
    <br />
    <div class="form-group col-lg col-lg-offset-4">

        @Html.ActionLink("Create", "createInstructor")
    </div>
    <div id="div3">

    </div>
    <div>

        @*@using (Ajax.BeginForm("Edit", "Edit", "Instructor1",new AjaxOptions()
        {
            UpdateTargetId = "div3",
            InsertionMode = InsertionMode.Replace,


        }))
        {


        }*@


    </div>

</div>
<script>
        function myfun2()
        {
            $("#div2").modal("toggle");
        }
        function myfun3() {
            $("#div3").modal("toggle");
        }
</script>