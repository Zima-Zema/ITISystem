@model ITISystem.ViewModel.StudentViewModel
<h2>Index</h2>

<div id="div1">
    <table class="table table-bordered">
        <thead>
            <tr><th>First Name</th><th>Last Name</th>@*<th>BirthDate</th>*@
            @*<th>Email</th>*@@*<th>User Name</th>*@<!--<th>Password</th>-->@*<th>Attendance Balance</th>*@
            @*<th>Telephone</th>*@@*<th>Street</th><th>City</th><th>Country</th>*@<th>Department</th>
            <th>Operations</th>
            </tr>
        </thead>

        @foreach (var models in Model.StudentList)
            {
            <tr>
                
                <td>@models.FirstName</td>
                <td>@models.LastName</td>
                @*<td>@models.BirthDate</td>
                <td>@models.Email</td>*@
                @*<td>@models.UserName</td>*@
                @*<td>@models.Password</td>*@               
                @*<td>@models.Attend_Balance</td>
                <td>@models.Telephone</td>
                <td>@models.Address.Street</td>
                <td>@models.Address.City</td>
                <td>@models.Address.Country</td>*@
                <td>@models.Department.Name</td>
                <td>
                    @Ajax.ActionLink("Edit", "edit","Student", new { Id = models.Student_Id },new AjaxOptions() {
                   UpdateTargetId="div3",
                   InsertionMode=InsertionMode.Replace,
                   HttpMethod="Get",
                   OnSuccess="myfun2()"

               },new { @class = "btn btn-danger" })|
                        @*@Html.ActionLink("Edit", "edit", "OP", new { id = models.Student_Id }, new { @class = "btn btn-success" })*@     
                    @*@Html.ActionLink("Remove", "delete","Student", new { Id = models.Student_Id }, new { @class = "btn btn-danger" })*@
                    @Ajax.ActionLink("Delete", "delete", "Student", new { Id = models.Student_Id }, new AjaxOptions()
                   {
                       UpdateTargetId = "div3",
                       InsertionMode = InsertionMode.Replace,
                       HttpMethod = "Get",
                       OnSuccess = "myfun2()"

                   }, new { @class = "btn btn-success" })|
                    @Html.ActionLink("Details", "details", "Student", new { id = models.Student_Id }, new { @class = "btn btn-primary" })
                </td>
            </tr>
        }

    </table>
   @*@Html.ActionLink("ADD", "Create_Student", "Student", null, new { @class = "btn btn-default" })*@
</div>
<div id="div3" class="modal">

</div>

<div>
    <input type="button" value="ADD" class="btn btn-primary" data-toggle="modal" data-target="#div2" />
</div>
<div id="div2" class="modal">
    
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add New Student</h2>
            </div>
            <div class="modal-body">
                @using (Ajax.BeginForm("Create_Student", "Student", new AjaxOptions()
                {
                    UpdateTargetId = "div1",
                    InsertionMode = InsertionMode.Replace,
                    OnSuccess = "myfun()",
                    HttpMethod = "Post"


                }))
                {
                   
                        
                            <div class="col-lg-12">
                                @Html.DisplayNameFor(model => model.Student.FirstName)
                            </div>
                            <div class="col-lg-12">
                                @Html.TextBoxFor(m=>m.Student.FirstName)
                                
                            </div>
                        
                        
                            <div class="col-lg-12">
                                @Html.DisplayNameFor(model => model.Student.LastName)
                            </div>
                            <div class="col-lg-12">
                                @Html.TextBoxFor(m => m.Student.LastName)
                            </div>
                        
                            <div class="col-lg-12">
                                @Html.DisplayNameFor(model => model.Student.BirthDate)
                            </div>
                            <div class="col-lg-12">
                                @Html.TextBoxFor(m => m.Student.BirthDate)
                            </div>
                        
                            <div class="col-lg-12">
                                @Html.DisplayNameFor(model => model.Student.Email)
                            </div>
                            <div class="col-lg-12">
                                @Html.TextBoxFor(m => m.Student.Email)
                            </div>
                        
                            <div class="col-lg-12">
                                @Html.DisplayNameFor(model => model.Student.UserName)
                            </div>
                            <div class="col-lg-12">
                                @Html.TextBoxFor(m => m.Student.UserName)
                            </div>
                        
                            <div class="col-lg-12">
                                @Html.DisplayNameFor(model => model.Student.Password)
                            </div>
                            <div class="col-lg-12">
                                @Html.TextBoxFor(m => m.Student.Password)
                            </div>
                        
                            <div class="col-lg-12">
                                @Html.DisplayNameFor(model => model.Student.Attend_Balance)
                            </div>
                            <div class="col-lg-12">
                                @Html.TextBoxFor(m => m.Student.Attend_Balance)
                            </div>
                       
                            <div class="col-lg-12">
                                @Html.DisplayNameFor(model => model.Student.Telephone)
                            </div>
                            <div class="col-lg-12">
                                @Html.TextBoxFor(m => m.Student.Telephone)
                            </div>
                       
                            <div class="col-lg-12">
                                @Html.DisplayNameFor(model => model.Student.Address.Street)
                            </div>
                            <div class="col-lg-12">
                                @Html.TextBoxFor(m => m.Student.Address.Street)
                            </div>
                        
                            <div class="col-lg-12">
                                @Html.DisplayNameFor(model => model.Student.Address.City)
                            </div>
                            <div class="col-lg-12">
                                @Html.TextBoxFor(m => m.Student.Address.City)
                            </div>
                       
                            <div class="col-lg-12">
                                @Html.DisplayNameFor(model => model.Student.Address.Country)
                            </div>
                            <div class="col-lg-12">
                                @Html.TextBoxFor(m => m.Student.Address.Country)
                            </div>
                        
                            <div class="col-lg-12">
                                @*@Html.LabelFor(a => a.Department_Key, "Department_Id", new { @class = "form-group" })*@
                             @Html.DisplayNameFor(model => model.Student.Department)
                                
                            </div>
                           
                            <div class="col-lg-12">
                               
                                @Html.DropDownListFor(s=>s.Student.Department_Key, new SelectList(Model.DepartmentList, "Department_Id", "Name"),"Select Department", new { @class = "btn btn-primary" })
                            </div>
                               <br /><br /> <br />          
                            <div >
                                <input type="submit" value="Save" class="btn btn-success col-md-3" />
                            </div>
                      
                }
            </div>
            <div class="modal-footer">
                <button class="close" data-dissmiss="modal">Close</button>
            </div>
        </div>

    </div>
   
</div>
@section Scripts{
<script>
    function myfun() {
        $("#div2").modal("toggle");
    }
    function myfun2() {
        $("#div3").modal("toggle");
    }
</script>
}

